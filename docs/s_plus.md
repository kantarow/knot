# C(K)=nの状態の列挙
## 目次
1. 概要
2. S+
3. グラフの拡張
4. 候補の列挙

## 概要
自明な結び目に対してRI+/RI-を任意回、S+をn回行うことで現れる結び目をstep nとし、任意のnが与えられたときにstep nの結び目を全て列挙することを考える。

これは、結び目に対するS+を結び目オイラーグラフ(KEG)に対する操作に変換することで実現できる。


## S+
### 手順
S+は以下の操作に置き換えられる。
1. オイラー閉路を辺のリストで持つ
2. オイラー閉路から始辺e_s(a, b, Ta, Tb)と、終辺e_g(c, d, Tc, Td)を選ぶ(この時e_s<e_gとなるようにする)
3. Odd頂点Oを追加する。
4. a, bからOに、Oからc, dに繋がるように辺を追加する。この時aとd, bとcがそれぞれOの同じ側(A/B)に繋がるようにする。即ち、(a, O, Ta, A), (b, O, Tb, B), (O, c, B, Tc), (O, d, A, Td)の4辺を追加する。
5. オイラー閉路でe_sとe_gの間にある辺全てを逆向きにした辺を追加する。即ち、(u, v, Tu, Tv)を(v, u, Tv, Tu)にする。
6. e_sからe_gまでの辺を削除する

### 反転する理由
1. (a, b)の辺が(a, O), (b, O)に変わるため、bの次数を考えると、(入:出)=(2-1:2+1)=(1:3)になっている。KEGの実頂点は、次数が4であり、かつ入力次数と出力次数が同じである必要がある。つまり(入：出)=(2:2)である必要がある。頂点bの場合、出力次数を一つ減らし、入力次数を一つ増やす必要がある。

2. (c, d)の辺が(O, c), (O, d)に変わるため、cの次数を考えると、(入:出)=(2+1:2-1)=(3:1)になっている。KEGの実頂点は、次数が4であり、かつ入力次数と出力次数が同じである必要がある。つまり(入：出)=(2:2)である必要がある。頂点cの場合、入力次数を一つ減らし、出力次数を一つ増やす必要がある。

3. 指定範囲のオイラー閉路を頂点の並びで表したとき、[a, b, ..., c, d]となる。[b, ..., c]の`...`の部分(これは路である)をXとおく。Xを反転したものをX'とする。この時、XをX'に変換したとき、Xに含まれるすべての頂点で次数の(入:出)の比は保存される。何故なら、Xに含まれる頂点p_xについていて、辺(u, p_x)と辺(p_x, v)が,存在し、これが反転して(v, p_x), (p_x, u)になるためである。

4. 1, 2, 3を踏まえて、[b, X, c]の部分を反転して[c, X', b]にすることを考える。この時、頂点bについてbからの出力次数が一つ減り、入力次数が一つ増えている(1)。頂点cについて、cからの入力次数が一つ減り、出力次数が一つ増えている(2)。また、XからX'についての変換において次数の関係は保存されている(3)。即ち、Odd頂点への辺の繋ぎ変えと、辺の反転をすることで登場するすべての頂点における次数の比が保たれる。